# ‚≠ê v2025.4.0

### Nov. 5, 2025

### Major Features & Enhancements

#### License Management & Organization Administration

* Implemented comprehensive DLC (Downloadable Content) management in product creation and updates
* Enhanced license management UI with improved `ManageStudentLicenses` component
  * Added proper organization context handling
  * Fixed loading issues and improved student retrieval logic
  * Added list view to `LicenseUsageOverview` modal
  * Improved license usage calendar widget with better course tracking
* Refactored license model and API with cursor-based pagination (replacing `lastEvaluatedKey` with `nextCursor`/`previousCursor`)
* Added license removal date display in various components
* Implemented role-based license visibility and styling
* Enhanced `CardSiteLicenses` component with modal for adding more licenses

#### User & Authentication Management

* Implemented AirData account linking functionality
  * Added `getUserIdentities` API function
  * Updated `SettingsV2` modal for identity management
  * Added AirData sync functionality
* Enhanced user password handling and related components
* Added ISK12 user details to user modals
* Migrated `UserCourses` modal to Composition API with improved error handling
* Enhanced user role management with tooltips for restricted roles/licenses
* Improved user search with license information

#### Course & Student Invitations

* Implemented comprehensive invite scheduling system
  * Added timepicker functionality for scheduled invites
  * Added date validation for course start dates
  * Implemented invite update/rescheduling functionality in `EditCourse` modal
  * Added course invites table panel to dashboard
* Enhanced `InviteStudent` modal with validation to prevent scheduling for started courses
* Improved invite status display with more detailed states (including 'used' state)
* Added support for searching invites by course
* Role-based invite deletion verification (instructors can only delete their own invites)

#### Dashboard & Reporting

* Refactored `DashboardHome` components for improved data handling
  * Enhanced report loading functionality
  * Updated flight report statistics and metrics
  * Improved component references and imports
* Updated flight report components with better data presentation

#### Product & Organization Management

* Refactored product model to standardize backorder handling
* Enhanced `ManageOrganizationProducts` component to fetch organization-specific products
* Refactored organization pagination with cursor-based navigation
* Deprecated `listOrganizations` in favor of search functionality
* Added confirmation prompts for licensing method changes
* Improved form submission logic in `ManageOrganizationView`

#### Email Verification

* Implemented email verification system (feature/verify-email-2)
* Refactored `VerifyEmail` component layout with support contact information
* Updated to support new email verification routes

#### Scene & Module Management

* Modernized `EditDrone.vue` component
* Fixed scene and module management functionality
* Removed deprecated add/remove modules (modules now choose their scene in `EditModule`)
* Added private scene warnings in `CompleteSiteLicenseSetup`

### API & Backend Improvements

#### Data Model Migration

* Migrated relevant data model references to use `zephyr-schemas`
* Replaced deprecated property references on licenses
* Updated handling of `Course.teacher` property (now nullable)
* Removed deprecated `listUsers` method with updated documentation

#### API Route Modernization

* Updated Users Table to use SQL routes
* Updated Invites to support new backend pagination queries
* Updated role table panel with new pagination
* Fixed invite columns and notices for SQL database reads
* Added "call name" to API route logger for better debugging
* Added temporary highlighting of migrated route names in API request logs
* Removed unused API route function calls

#### Pagination Updates

* Implemented cursor-based pagination across multiple endpoints
* Updated invite, license, and organization search functionality
* Enhanced license search with new pagination system

### UI/UX Improvements

#### Modal System

* Improved focus restoration logic to prevent event re-triggering
* Fixed modal close/dismissal to target correct instance
* Implemented automatic modal dismissal on route transitions

#### Calendar & License Usage

* Enhanced `LicenseUsageCalendarWidget` with reactive properties
* Improved UI/UX including better mobile/small screen support
* Fixed race conditions in calendar day student tracking
* Replaced scrollable calendar items with dynamic overflow indicators

#### Form Components

* Updated `FormInput` component to properly support `debounce` property
* Fixed race condition in `OrganizationUserSelectionBuilder`
* Enhanced date formatting across various components using date-fns

#### Sidebar & Navigation

* Enhanced Sidebar and `SplitViewPage` components
* Updated `AppHeader` styles for improved link visibility
* Conditional display based on organization licensing method

### Bug Fixes

#### License & Organization Issues

* Fixed site license update bug (hotfix/v2025.3.7)
* Fixed issue with boolean handling in organization settings
* Fixed license assignment/unassignment in same process
* Fixed organization license display in users table
* Fixed proper organization context in `ManageStudentLicenses` modal

#### Course & Certification

* Fixed broken Scene/Module management
* Added resend PDF option for certifications
* Commented out 'Issue Certification Exam' menu option for future re-evaluation

#### Student Dashboard & Checkout

* Fixed student dashboard issue showing "Purchase Seat" after purchase
* Created universal embedded checkout system
* Enhanced checkout with callback to clear cached seat purchase session
* Fixed guest checkout bug with generated options
* Re-added mistakenly-removed checkout session context values

#### User Management

* Fixed loading error in `UserCourses` modal for LAS Admin role
* Fixed Firefox browser compatibility in `ClipboardService`
* Completed removal of deprecated property references on licenses

#### Dashboard & UI

* Fixed odd scrollbar rendering in some browsers
* Improved date formatting consistency across components
* Fixed in drone logbook table cell for reports
* Updated report modules with latest changes
